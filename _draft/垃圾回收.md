
# 垃圾回收

## 什么是垃圾回收？
在C++中我们通过delete手动回收堆上的内存。
垃圾回收就是通过一些方式自动回收堆上的内存。

## 垃圾回收的方式

### 引用计数
在对象中保存当前有多少个变量正引用这个对象，当引用值为0时，释放这个对象。
当存在循环引用时，引用计数始终不为0，对象无法释放，可以通过weak防止循环引用。

#### weak
表示当前变量引用对象，但不增加引用值，当引用值为0时，weak变量自动置为nil。
将weak变量置为nil可以防止悬挂指针，之所以会置为nil，是因为内存中保存了一张weak表，当对象被释放后，它会从weak表中找到所有用weak引用对象的变量，然后把他们置为nil。

### 引用链
