---
layout: post
title: 深入理解操作系统
categories: 操作系统
---

- [深入理解操作系统](#深入理解操作系统)
  - [漫游](#漫游)
    - [概念](#概念)
      - [编译过程](#编译过程)
      - [硬件组成](#硬件组成)
      - [CPU操作](#cpu操作)
      - [程序执行过程](#程序执行过程)
    - [总结](#总结)

# 深入理解操作系统

## 漫游
### 概念
#### 编译过程
1. 预处理：将头文件插入源文件，得到.i
2. 编译：翻译成汇编程序，得到.s
3. 汇编：翻译成机器指令, 得到目标文件.o
4. 链接：和引用到的其他目标文件合并，得到可执行文件

#### 硬件组成
* 总线： 以字长为单位传送数据，32位系统一个字是32位
* I/O设备
* 主存：DRAM
* CPU：核心是PC寄存器，它指向主存中将要执行的机器指令

#### CPU操作
* 加载： 从主存复制数据到寄存器
* 存储：从寄存器复制数据到主存
* 操作：将两个寄存器内容复制到ALU执行算术计算，然后将结果存到寄存器
* 跳转：从指令中得到地址复制到PC

#### 程序执行过程
1. shell程序运行，等待输入
2. 当我们键入字符串后，shell程序将字符逐一读入寄存器，再把它存入内存
3. 当我们键入回车，shell执行指令将hello目标文件的代码和数据从磁盘复制到内存，利用直接存储器存取技术，数据可以不通过CPU直接从磁盘到内存
4. 处理器执行程序的main的机器指令，把字符串复制到寄存器，再从寄存器复制到显示设备

### 总结
